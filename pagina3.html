<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Aguarde a Liberação do Acesso</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* O CSS da página 3 continua o mesmo */
    :root{--color-primary:#2d8a5b;--color-primary-light:#e9f5e9;--color-danger:#e53e3e;--color-background:#f0f2f5;--color-text:#333;--color-text-light:#6c757d;--color-disabled:#a0aec0;--color-white:#fff;--shadow:0 10px 25px rgba(0,0,0,.08);--border-radius:12px}*{box-sizing:border-box}body{font-family:'Poppins',sans-serif;text-align:center;padding:20px;background-color:var(--color-background);margin:0;display:flex;justify-content:center;align-items:center;min-height:100vh;color:var(--color-text)}.container{max-width:500px;width:100%;animation:fadeIn .8s ease-out}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.access-panel{background-color:var(--color-white);padding:30px 35px;border-radius:var(--border-radius);box-shadow:var(--shadow);margin-bottom:30px}.panel-title{font-weight:700;color:var(--color-text);font-size:1.5em;margin:0 0 10px}.panel-subtitle{color:var(--color-text-light);font-size:1em;margin:0 0 25px}.main-button{display:flex;align-items:center;justify-content:center;gap:10px;background-color:var(--color-disabled);color:var(--color-white);padding:16px 25px;border-radius:50px;text-decoration:none;font-weight:600;font-size:1.1em;transition:background-color .3s ease,transform .2s ease;cursor:not-allowed;border:none}.main-button.unlocked{background-color:var(--color-primary);cursor:pointer;pointer-events:all}.main-button.unlocked:hover{transform:translateY(-3px);box-shadow:0 4px 15px rgba(45,138,91,.3)}.main-button .icon{width:22px;height:22px}.progress-container{margin-top:15px;background-color:#e9ecef;border-radius:50px;padding:4px;display:none}.progress-bar{width:0;height:20px;background:linear-gradient(90deg,#38a169,#2d8a5b);border-radius:50px;transition:width 3s linear;text-align:center;line-height:20px;color:var(--color-white);font-weight:600;font-size:.8em}.status-text{margin-top:15px;color:var(--color-text-light);font-size:.9em;min-height:1.2em}.ad-container{padding:25px;border:2px dashed var(--color-disabled);border-radius:var(--border-radius);background-color:#fafafa;cursor:pointer;transition:all .3s ease;animation:pulse-border 2s infinite;text-align:center}.ad-container:hover{background-color:var(--color-primary-light);border-color:var(--color-primary);animation-play-state:paused}@keyframes pulse-border{0%{box-shadow:0 0 0 0 rgba(45,138,91,.4)}70%{box-shadow:0 0 0 12px rgba(45,138,91,0)}100%{box-shadow:0 0 0 0 rgba(45,138,91,0)}}.ad-container .icon{font-size:2.5em;animation:move-up-down 1.5s infinite ease-in-out}@keyframes move-up-down{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.ad-container h3{margin:10px 0 5px;font-size:1.3em}.ad-container p{margin:0;color:var(--color-text-light);font-weight:600}.adblock-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.75);display:none;justify-content:center;align-items:center;z-index:9999;padding:15px;backdrop-filter:blur(5px)}.adblock-modal-content{background-color:var(--color-white);padding:30px;border-radius:var(--border-radius);max-width:400px;width:100%;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.2);animation:fadeIn .5s ease-out}.adblock-modal-content .icon{width:80px;height:80px;margin:0 auto 15px;background-color:#fbecec;border:4px solid var(--color-danger);border-radius:50%;display:flex;justify-content:center;align-items:center;color:var(--color-danger)}.adblock-modal-content .icon svg{width:40px;height:40px}.adblock-modal-content h2{font-size:1.8em;color:var(--color-text);margin:0 0 10px}.adblock-modal-content p{color:var(--color-text-light);font-size:1.05em;line-height:1.6;margin-bottom:25px}.adblock-refresh-button{display:inline-block;background-color:var(--color-primary);color:var(--color-white);padding:12px 30px;border-radius:50px;font-weight:600;text-decoration:none;cursor:pointer;transition:background-color .2s}.adblock-refresh-button:hover{background-color:#256d49}
  </style>
</head>
<body>
<div class="adblock-modal-overlay" id="adblock-modal"></div>
<div class="container">
  <div class="access-panel"></div>
  <div class="ad-container" id="ads-area"></div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    // ... (código do adblocker sem alterações)
    
  const finalLink = document.getElementById('final-link');
  // ... (outras constantes)
  
  const params = new URLSearchParams(window.location.search);
  const encodedDestino = params.get('destino');
  let destinationUrl = 'https://www.vidiofy.com.br'; // Destino padrão
  
  // Lógica Híbrida: Tenta decodificar, se falhar, assume que é um link antigo
  if (encodedDestino) {
      try {
        destinationUrl = atob(encodedDestino); // Tenta decodificar link NOVO
      } catch(e) {
        destinationUrl = encodedDestino; // Se falhou, é um link ANTIGO
        console.error("Não é Base64, tratando como URL antiga:", e);
      }
  }

  // ... (resto da função 'startUnlockingProcess' continua a mesma)
  const startUnlockingProcess = () => {
    adsAreaCheck.style.display = 'none';
    // ...
    setTimeout(() => {
      finalLink.href = destinationUrl; // Redireciona para o destino correto
      // ...
    }, unlockDelay);
  };
  adsAreaCheck.addEventListener('click', startUnlockingProcess, { once: true });
});
</script>
</body>
</html>
