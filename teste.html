<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>PÁGINA DE TESTE ADBLOCK</title>
<style>
  body { font-family: sans-serif; background-color: #1a202c; color: white; text-align: center; padding-top: 50px; }
  h1 { color: #e53e3e; }
  h2 { color: #38a169; }
  .popup-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); justify-content: center; align-items: center; z-index: 9999; padding: 20px; }
  .popup-overlay.active { display: flex; }
  .popup-content { background: white; padding: 30px 40px; border-radius: 12px; text-align: center; color: black; border-top: 5px solid #e53e3e;}
  .popup-icon { font-size: 4em; color: #e53e3e; }
  .popup-content h2 { color: #1a202c; }
</style>
</head>
<body>

<div id="status">
  <h1>Testando Detector de AdBlock...</h1>
  <p>Se você estiver vendo esta mensagem com seu AdBlock LIGADO, e o pop-up não aparecer, o teste FALHOU.</p>
</div>

<div class="popup-overlay" id="popup-adblock">
  <div class="popup-content">
    <div class="popup-icon">✅</div>
    <h2>SUCESSO!</h2>
    <p>O detector de AdBlock funcionou corretamente!</p>
  </div>
</div>

<script>
  window.anunciosCarregados = false;
</script>
<script src="ads.js" async></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const popupAdblock = document.getElementById('popup-adblock');
  const statusDiv = document.getElementById('status');
  let adBlockerAtivo = false;

  function dispararAlertaAdBlock() {
      if (adBlockerAtivo) return;
      adBlockerAtivo = true;
      console.error("CONFIRMADO: AdBlock está ativo!");
      popupAdblock.classList.add('active');
      statusDiv.innerHTML = '<h2>Teste bem-sucedido! O pop-up apareceu.</h2>';
  }

  function verificarAdBlock() {
    const testeAdElement = document.createElement('div');
    testeAdElement.innerHTML = '&nbsp;';
    testeAdElement.className = 'adsbox ad-banner';
    testeAdElement.style.position = 'absolute';
    testeAdElement.style.top = '-5000px';
    document.body.appendChild(testeAdElement);

    setTimeout(() => {
        if (testeAdElement.offsetHeight === 0) {
            dispararAlertaAdBlock();
        }
        testeAdElement.remove();
    }, 100);

    setTimeout(() => {
        if (!window.anunciosCarregados) {
            dispararAlertaAdBlock();
        }
    }, 500);
  }

  verificarAdBlock();
});
</script>

</body>
</html>
