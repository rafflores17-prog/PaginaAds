<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Página 1</title>
  <style>
    body{font-family:sans-serif;text-align:center;padding:20px;padding-top:80px}.ad-placeholder{width:100%;min-height:50px;margin:20px auto;display:flex;align-items:center;justify-content:center;max-width:728px}#aviso-contador{background-color:rgba(0,0,0,.85);color:#fff;padding:12px;border-radius:0 0 12px 12px;box-shadow:0 4px 8px rgba(0,0,0,.2);position:fixed;top:0;left:0;right:0;z-index:9999;width:90%;max-width:400px;margin:0 auto;font-size:1.2em}#contador{font-size:1.5em;font-weight:700;color:#ffc107}.botao-azul{background-color:#007bff;color:#fff;padding:12px 28px;border-radius:50px;text-decoration:none;border:none;cursor:pointer;font-weight:700;text-transform:uppercase;font-size:16px;transition:filter .2s;display:inline-block;margin-top:15px}.botao-azul:hover{filter:brightness(1.1)}.botao-azul.desabilitado{background-color:#aaa;cursor:not-allowed;filter:none}.status-liberado{color:#28a745;font-weight:700;margin-top:10px;display:none}#rodape-final{margin-top:50vh}.amazon-banner{display:flex;flex-direction:column;width:300px;border:1px solid #ddd;border-radius:12px;overflow:hidden;text-decoration:none;color:#111;background-color:#fff;box-shadow:0 4px 6px rgba(0,0,0,.1);transition:transform .3s ease}.amazon-banner:hover{transform:translateY(-5px)}.amazon-banner-image img{width:100%;height:auto;display:block;border-bottom:1px solid #ddd}.amazon-banner-details{padding:1rem;text-align:center}.amazon-product-title{font-size:.9rem;font-weight:500;margin-bottom:1rem;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;min-height:40px}.amazon-buy-button{display:inline-block;background-color:#ff9900;color:#111;font-weight:600;padding:10px 20px;border-radius:8px;font-size:1rem}
  </style>
</head>
<body>
  <div id="aviso-contador">Aguarde <span id="contador">12</span> segundos...</div>
  <h1>Anúncio Principal</h1>
  <div class="ad-placeholder">
      <a href="https://amzn.to/47EpLPs" target="_blank" rel="sponsored" class="amazon-banner">
          <div class="amazon-banner-image"><img src="https://m.media-amazon.com/images/I/61K7fAOac9L._AC_UF1000,1000_QL80_.jpg" alt="Fire TV Stick na Amazon"></div>
          <div class="amazon-banner-details">
              <p class="amazon-product-title">Fire TV Stick | Streaming em Full HD com Alexa</p><span class="amazon-buy-button">Ver Oferta na Amazon</span>
          </div>
      </a>
  </div>
  <div class="ad-placeholder">
    <script async="async" data-cfasync="false" src="//victimfatalsentiments.com/694579ced308045c2c6c156cc2dceaba/invoke.js"></script>
    <div id="container-694579ced308045c2c6c156cc2dceaba"></div>
  </div>
  <div id="rodape-final">
    <div id="status-pg1" class="status-liberado">✅ Etapa Desbloqueada!</div>
    <button id="botao-prosseguir" class="botao-azul desabilitado" disabled>Carregando...</button>
  </div>
  <script>
    const params = new URLSearchParams(window.location.search);
    const destinoParam = params.get('destino');
    let destino = 'https://www.vidiofy.com.br'; // Destino padrão seguro

    if (destinoParam) {
      try {
        // Tenta decodificar. Se funcionar, é um link NOVO (Base64)
        const decoded = atob(destinoParam);
        // Checagem extra: o resultado parece uma URL?
        if (decoded.startsWith('http')) {
            destino = decoded;
        } else {
            // Se decodificou mas não parece um link, assume que era um link ANTIGO que por acaso parecia Base64
            destino = destinoParam;
        }
      } catch (e) {
        // Se der erro ao decodificar, é um link ANTIGO (texto normal)
        destino = destinoParam;
      }
    }
    
    let tempoRestante = 12;
    const contadorElemento = document.getElementById('contador');
    const botaoProsseguir = document.getElementById('botao-prosseguir');
    const avisoContador = document.getElementById('aviso-contador');
    const statusPg1 = document.getElementById('status-pg1');
    botaoProsseguir.textContent = "Próxima Etapa";

    const intervalo = setInterval(() => {
      tempoRestante--;
      contadorElemento.textContent = tempoRestante;
      if (tempoRestante <= 0) {
        clearInterval(intervalo);
        avisoContador.style.display = 'none';
        statusPg1.style.display = 'block';
        botaoProsseguir.disabled = false;
        botaoProsseguir.classList.remove('desabilitado');
        botaoProsseguir.scrollIntoView({ behavior: 'smooth', block: 'center' });
        botaoProsseguir.onclick = () => {
          window.location.href = 'pagina2.html?destino=' + encodeURIComponent(destino);
        };
      }
    }, 1000);
  </script>
</body>
</html>
