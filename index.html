<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Página 1</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #ffffff;
      color: #111;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #111;
      color: #fff;
      padding: 10px 0;
      font-size: 1.2em;
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: all 0.3s ease; /* Adicionado para sumir suavemente */
    }
    .counter {
      font-size: 1.5em;
      font-weight: 700;
      color: #fbbf24;
    }
    .main-ad {
      margin: 20px auto;
      width: 90%;
      max-width: 500px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      padding: 20px;
    }
    .main-ad h2 {
      font-size: 1.4em;
      margin-bottom: 10px;
    }
    .main-ad img {
      width: 100%;
      max-width: 350px;
      height: auto;
      border-radius: 10px;
      margin-bottom: 15px;
    }
    .amazon-button {
      background-color:#fbbf24;
      color:#000;
      padding:10px 20px;
      border:none;
      border-radius:8px;
      font-weight:600;
      cursor:pointer;
      font-family: 'Poppins', sans-serif;
      font-size: 1em;
      transition: opacity 0.2s;
    }
    .amazon-button:hover {
      opacity: 0.8;
    }
    .ad-placeholder {
        margin: 20px auto;
        min-height: 50px;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .next-button {
      background-color: #999;
      color: white;
      font-weight: 600;
      padding: 15px 35px;
      border-radius: 50px;
      border: none;
      cursor: not-allowed;
      transition: all 0.2s ease;
      margin: 30px 0;
    }
    .next-button.active {
      background: linear-gradient(90deg, #007bff, #0056b3);
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,123,255,0.3);
    }
    .adblock-modal-overlay {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      padding: 20px;
      box-sizing: border-box;
      backdrop-filter: blur(5px);
    }
    .adblock-modal-content {
      background-color: #fff; padding: 35px 25px;
      border-radius: 15px; max-width: 400px;
      width: 100%; text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      animation: fadeIn 0.5s ease-out;
    }
    .adblock-modal-content .icon {
      width: 90px; height: 90px;
      margin: 0 auto 20px auto;
      background-color: #fbecec;
      border: 5px solid #e53e3e;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #e53e3e;
    }
    .adblock-modal-content .icon svg { width: 45px; height: 45px; }
    .adblock-modal-content h2 { font-size: 1.6em; color: #333; margin-bottom: 12px; }
    .adblock-modal-content p { color: #555; font-size: 1em; line-height: 1.5; margin-bottom: 20px; }
    .adblock-refresh-button {
      display: inline-block; background-color: #2d8a5b;
      color: white; padding: 12px 30px;
      border-radius: 50px; font-weight: 600;
      text-decoration: none; cursor: pointer;
      transition: background-color 0.2s ease;
    }
    .adblock-refresh-button:hover { background-color: #256d49; }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(15px);}
      to {opacity: 1; transform: translateY(0);}
    }
  </style>
</head>
<body>

  <header id="header-contador">
    Aguarde <span class="counter" id="contador">10</span> segundos...
  </header>

  <div class="main-ad">
    <h2>Anúncio Principal</h2>
    <img src="https://i.imgur.com/gZ1b2aU.png" alt="Fire TV Stick">
    <p>Fire TV Stick | Streaming em Full HD com Alexa</p>
    <a href="https://amzn.to/47rmRfF" target="_blank" style="text-decoration:none;">
      <button class="amazon-button">
        Ver Oferta na Amazon
      </button>
    </a>
  </div>

  <div style="margin:20px auto;">
    <div class="ad-placeholder">
      <script async="async" data-cfasync="false" src="//victimfatalsentiments.com/694579ced308045c2c6c156cc2dceaba/invoke.js"></script>
      <div id="container-694579ced308045c2c6c156cc2dceaba"></div>
    </div>
  </div>

  <button id="botao" class="next-button" disabled>PRÓXIMA ETAPA</button>

  <div class="adblock-modal-overlay" id="adblock-modal">
    <div class="adblock-modal-content">
      <div class="icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M15.936 2.5L21.5 8.064V15.936L15.936 21.5H8.064L2.5 15.936V8.064L8.064 2.5H15.936ZM15 17H9V19H15V17ZM15 5H9V15H15V5Z"/></svg>
      </div>
      <h2>AdBlocker Detectado!</h2>
      <p>Detectamos que você está usando uma extensão para bloquear anúncios.<br>
      Por favor, desative seu AdBlocker e atualize a página para continuar.</p>
      <a class="adblock-refresh-button" onclick="location.reload()">Atualizar Página</a>
    </div>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const destinoParam = params.get('destino') || ''; 

    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        const ads = document.querySelectorAll('.ad-placeholder');
        let bloqueado = false;
        ads.forEach(ad => {
          if (ad.offsetHeight < 20) {
            bloqueado = true;
          }
        });

        if (bloqueado) {
          document.getElementById('adblock-modal').style.display = 'flex';
          document.body.style.overflow = 'hidden';
        } else {
          iniciarContador();
        }
      }, 1000);
    });

    function iniciarContador() {
      let segundos = 10;
      const contador = document.getElementById("contador");
      const botao = document.getElementById("botao");
      const headerContador = document.getElementById("header-contador"); // Pega o header

      const interval = setInterval(() => {
        segundos--;
        if (contador) {
            contador.textContent = segundos;
        }
        
        if (segundos <= 0) {
          clearInterval(interval);
          
          // --- CORREÇÃO DO CONTADOR: Faz a barra sumir ---
          if (headerContador) {
            headerContador.style.display = 'none';
          }
          
          if (botao) {
              botao.classList.add("active");
              botao.disabled = false;
              botao.textContent = "PRÓXIMA ETAPA";
              
              botao.scrollIntoView({ behavior: 'smooth', block: 'center' });
              
              botao.onclick = () => {
                window.location.href = 'pagina2.html?destino=' + encodeURIComponent(destinoParam);
              };
          }
        }
      }, 1000);
    }
  </script>
</body>
</html>
